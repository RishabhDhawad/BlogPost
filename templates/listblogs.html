{% extends "base.html" %}
{% block title %}Home - Flask Blog{% endblock %}
{% block content %}

<style>
    .blog-list {
        margin-top: 20px;
    }

    .blog-item {
        background: white;
        border: 1px solid #eee;
        padding: 5px;
    }

    .blog-date {
        color: #666;
        font-size: 12px;
        margin-top: 8px;
    }

    .delete-btn {
        margin-top: 10px;
    }
</style>

<div class="blog-list">
    <h2>All Blog Posts</h2>

    {% if blogs %}
    {% for blog in blogs %}
    <div class="blog-item">
        <h3><a href="{{ url_for('detail', id=blog.id) }}">{{ blog.title }}</a></h3>
        <div class="blog-date">
            Published on {{ blog.created_date.strftime('%B %d, %Y at %I:%M %p') }}
        </div>
        <!--                Delete Post Button-->
        <a href="{{ url_for('delete_post', id=blog.id) }}"
           onclick=" return confirm('Are you sure you want to delete this post?')">
            <button class="delete-btn">Delete</button>
        </a>
        <a href="{{ url_for('edit_blog', id=blog.id) }}">
            <button class="update-btn">Update</button>
        </a>
    </div>
    {% endfor %}
    {% else %}
    <p>No blog posts yet. Create your first blog post above!</p>
    {% endif %}
</div>
{% endblock %}